{"version":3,"sources":["store/reducers/GameState/index.ts","store/action/GameStateAction.ts","components/mainMenu/index.tsx","components/backNavigator/index.tsx","lib/httpRequest.ts","store/action/GameAction.ts","store/action/GaneRecordAction.ts","components/Loading/index.tsx","store/action/GameManagerAction.ts","lib/createBoard.ts","components/gameRecord/index.tsx","components/about/facebook-logo/facebook-512.png","components/about/index.tsx","components/about/github-logo/GitHub-Mark-Light-120px-plus.png","store/reducers/GameManager/index.ts","store/reducers/Game/index.ts","store/reducers/GameRecordList/index.ts","store/reducers/index.ts","store/index.ts","lib/gameManager.ts","components/game/board/index.tsx","components/game/index.tsx","lib/validator.ts","lib/foreUpdate.ts","components/watingPanel/index.tsx","components/createGame/index.tsx","components/joinGame/index.tsx","components/result/index.tsx","components/replay/controlPanel/index.tsx","components/replay/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["EGameState","CHANGE_GAME_STATE","changeGameState","state","type","payload","initialState","loading","game_state","main_menu","error","GameState","action","MainMenu","dispatch","useDispatch","handleOnClick","className","onClick","create","join","record","about","BackNavigator","props","backTo","httpRequest","url","axiosInstance","this","axios","baseURL","timeout","defaults","headers","interceptors","request","use","config","Promise","reject","response","header","common","key","value","methodName","get","data","post","put","delete","process","FETCH_GAME_BEGIN","FETCH_GAME_SUCCESS","FETCH_GAME_FAILURE","fetchGameFailure","FETCH_GAME_RECORD_BEGIN","FETCH_GAME_RECORD_FAILURE","FETCH_GAME_RECORD_SUCESS","fetchGameRecordFailure","Loading","style","height","justifyContent","alignItems","color","size","margin","SET_GAME_ID","SET_GAME","setGame","genBoard","dim","rlt","i","j","connect","rootState","games","GameReducer","total","fetchGame","page","a","params","take","res","count","console","fetchGameRecord","id","useState","setPage","useEffect","map","game","player_o","player_x","result","dateformat","Date","createAt","gameID","dimension","board","replay","prev","Math","ceil","About","alt","width","src","href","facebookLogo","whoTurn","whatYouAre","turn","yourName","notice","GameManagerReducer","GameRecordReducer","gameRecords","reducers","combineReducers","GameStateReducer","createStore","rootReducer","applyMiddleware","thunk","socket","io","on","store","emit","getState","Square","pos_x","pos_y","readOnly","room_id","useSelector","makeMove","fontSize","Table","length","floor","row","col","validator","SimpleReactValidator","useForceUpdate","setValue","display","Clipboard","inviteCode","name","online","form","setForm","hasCreate","setHasCreate","handleOnChange","Number","forceUpdate","handleOnSumbit","allValid","player_name","showMessages","onChange","e","target","checked","placeholder","message","data-clipboard-text","JoinGame","hasJoin","setHasJoin","required","timmerID","cursor","index","speed","setSpeed","play","setPlay","setBoard","step","copy_board","position_x","position_y","setInterval","log","clearInterval","event","min","max","previos_step","popStep","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e5f9df8.chunk.js","sourcesContent":["import { CHANGE_GAME_STATE } from 'store/action/GameStateAction'\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  game_state: EGameState\r\n  error: Error | null\r\n}\r\n\r\ninterface IAction {\r\n  type: string\r\n  payload: any\r\n}\r\n\r\nexport enum EGameState {\r\n  main_menu,\r\n  game,\r\n  replay,\r\n  create,\r\n  result,\r\n  join,\r\n  record,\r\n  about,\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  game_state: EGameState.main_menu,\r\n  error: null,\r\n}\r\n\r\nfunction GameState(state: IState = initialState, action: IAction) {\r\n  const { type, payload } = action\r\n\r\n  switch (type) {\r\n    case CHANGE_GAME_STATE:\r\n      return {\r\n        ...state,\r\n        game_state: payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default GameState\r\n","import { EGameState } from 'store/reducers/GameState'\r\n\r\nexport const CHANGE_GAME_STATE = 'CHANGE_GAME_STATE'\r\n\r\nexport const changeGameState = (state: EGameState) => ({\r\n  type: CHANGE_GAME_STATE,\r\n  payload: state,\r\n})\r\n","import { useDispatch } from 'react-redux'\r\nimport { changeGameState } from 'store/action/GameStateAction'\r\nimport { EGameState } from 'store/reducers/GameState'\r\nimport './styles.scss'\r\n\r\nfunction MainMenu() {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleOnClick = (state: EGameState) => {\r\n    dispatch(changeGameState(state))\r\n    // dispatch(setGame(initialState))\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-menu\">\r\n      <h3>Tic Tac Toe Game</h3>\r\n      <div\r\n        className=\"main-menu-btn\"\r\n        onClick={() => handleOnClick(EGameState.create)}\r\n      >\r\n        <span>Create Game</span>\r\n      </div>\r\n      <div\r\n        className=\"main-menu-btn\"\r\n        onClick={() => handleOnClick(EGameState.join)}\r\n      >\r\n        Join Game\r\n      </div>\r\n      <div\r\n        className=\"main-menu-btn\"\r\n        onClick={() => handleOnClick(EGameState.record)}\r\n      >\r\n        Game Record\r\n      </div>\r\n      <div\r\n        className=\"main-menu-btn\"\r\n        onClick={() => handleOnClick(EGameState.about)}\r\n      >\r\n        About Me\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainMenu\r\n","import './styles.scss'\r\nimport { useDispatch } from 'react-redux'\r\nimport { changeGameState } from 'store/action/GameStateAction'\r\nimport { EGameState } from 'store/reducers/GameState'\r\ninterface IProps {\r\n  backTo?: EGameState\r\n}\r\n\r\nfunction BackNavigator(props: IProps) {\r\n  const { backTo = EGameState.main_menu } = props\r\n  const dispatch = useDispatch()\r\n\r\n  const handleOnClickBack = () => [dispatch(changeGameState(backTo))]\r\n  return (\r\n    <div className=\"navigator\">\r\n      <div\r\n        className=\"back-link\"\r\n        onClick={handleOnClickBack}\r\n      >{`< Back to Menu`}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackNavigator\r\n","import axios, { AxiosInstance, AxiosRequestConfig } from 'axios'\r\ninterface IHeader {\r\n  key: string\r\n  value: string\r\n}\r\nclass HttpRequest {\r\n  axiosInstance: AxiosInstance\r\n  constructor(url: string) {\r\n    this.axiosInstance = axios.create({\r\n      baseURL: url,\r\n      timeout: 5000,\r\n    })\r\n    this.axiosInstance.defaults.headers['Content-Type'] =\r\n      'application/x-www-form-urlencoded'\r\n\r\n    this.axiosInstance.interceptors.request.use(\r\n      (config) => {\r\n        // Do something before request is sent\r\n        return config\r\n      },\r\n      (error) => {\r\n        // Do something with request error\r\n        return Promise.reject(error)\r\n      },\r\n    )\r\n\r\n    // Add a response interceptor\r\n    this.axiosInstance.interceptors.response.use(\r\n      (response) => {\r\n        // Do something with response data\r\n        return response\r\n      },\r\n      (error) => {\r\n        return Promise.reject(error)\r\n      },\r\n    )\r\n  }\r\n\r\n  setHeader(header: IHeader) {\r\n    this.axiosInstance.defaults.headers.common[header.key] = header.value\r\n  }\r\n\r\n  get<type>(methodName: string, config?: AxiosRequestConfig) {\r\n    return this.axiosInstance.get<type>(methodName, config)\r\n  }\r\n\r\n  post<type>(methodName: string, data?: any, config?: AxiosRequestConfig) {\r\n    return this.axiosInstance.post<type>(methodName, data, config)\r\n  }\r\n\r\n  put<type>(methodName: string, data?: any, config?: AxiosRequestConfig) {\r\n    return this.axiosInstance.put<type>(methodName, data, config)\r\n  }\r\n\r\n  delete<type>(methodName: string, config?: AxiosRequestConfig) {\r\n    return this.axiosInstance.delete<type>(methodName, config)\r\n  }\r\n}\r\n// const PORT = process.env.PORT\r\n\r\nconst httpRequest = new HttpRequest(\r\n  process.env.REACT_APP_API_URL || 'http://localhost:3001/api',\r\n)\r\n\r\nexport default httpRequest\r\n","import httpRequest from 'lib/httpRequest'\r\nimport { IGame } from 'store/reducers/Game'\r\n\r\nexport const FETCH_GAME_BEGIN = 'FETCH_GAME_START'\r\nexport const FETCH_GAME_SUCCESS = 'FETCH_GAME_SUCCESS'\r\nexport const FETCH_GAME_FAILURE = 'FETCH_GAME_FAILURE'\r\n\r\nexport const fetchGameBegin = () => ({\r\n  type: FETCH_GAME_BEGIN,\r\n})\r\n\r\nexport const fetchGameSuccess = (payload: {\r\n  data: IGame[]\r\n  count: number\r\n}) => ({\r\n  type: FETCH_GAME_SUCCESS,\r\n  payload,\r\n})\r\n\r\nexport const fetchGameFailure = (payload: Error) => ({\r\n  type: FETCH_GAME_FAILURE,\r\n  payload,\r\n})\r\n\r\nexport function fetchGame(page: number) {\r\n  return async (dispatch: any) => {\r\n    // console.log('fetch Data')\r\n    dispatch(fetchGameBegin())\r\n    try {\r\n      const res = await httpRequest.get<IGame[]>('/game', {\r\n        params: { page, take: 4 },\r\n      })\r\n      const count = await httpRequest.get<number>('/game-count')\r\n      // console.log(res.data)\r\n      dispatch(fetchGameSuccess({ data: res.data, count: count.data }))\r\n    } catch (error) {\r\n      console.error(error)\r\n      dispatch(fetchGameFailure(error))\r\n    }\r\n  }\r\n}\r\n","import httpRequest from 'lib/httpRequest'\r\nimport { IGameRecord } from 'store/reducers/GameRecordList'\r\n\r\nexport const FETCH_GAME_RECORD_BEGIN = 'FETCH_GAME_RECORD_BEGIN'\r\nexport const FETCH_GAME_RECORD_FAILURE = 'FETCH_GAME_RECORD_FAILURE'\r\nexport const FETCH_GAME_RECORD_SUCESS = 'FETCH_GAME_RECORD_SUCESS'\r\nexport const fetchGameRecordBegin = () => ({\r\n  type: FETCH_GAME_RECORD_BEGIN,\r\n})\r\n\r\nexport const fetchGameRecordSuccess = (payload: IGameRecord[]) => ({\r\n  type: FETCH_GAME_RECORD_SUCESS,\r\n  payload,\r\n})\r\n\r\nexport const fetchGameRecordFailure = (payload: Error) => ({\r\n  type: FETCH_GAME_RECORD_FAILURE,\r\n  payload,\r\n})\r\n\r\nexport function fetchGameRecord(id: string) {\r\n  return async (dispatch: any) => {\r\n    dispatch(fetchGameRecordBegin())\r\n    try {\r\n      const res = await httpRequest.get<IGameRecord[]>('/game-record', {\r\n        params: { id },\r\n      })\r\n      dispatch(fetchGameRecordSuccess(res.data))\r\n    } catch (error) {\r\n      console.error(error)\r\n      dispatch(fetchGameRecordFailure(error))\r\n    }\r\n  }\r\n}\r\n","import { PacmanLoader } from 'react-spinners'\r\nimport './styles.scss'\r\nfunction Loading() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <div\r\n        style={{\r\n          height: 300,\r\n          // display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <PacmanLoader color=\"white\" size={50} margin={2} />\r\n      </div>\r\n      <h1>Loading...</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","export const SET_GAME_ID = 'SET_GAME_ID'\r\nexport const SET_GAME = 'SET_GAME'\r\n\r\n\r\nexport const setGame = (payload:any)=> ({\r\n  type: SET_GAME,\r\n  payload\r\n})\r\n\r\nexport const setGameID = (payload: string)=>({\r\n  type: SET_GAME_ID,\r\n  payload\r\n})\r\n","export function genBoard(dim: number) {\r\n  // let rlt: any = Array(dim)\r\n  // rlt.fill(new Array(dim), 0, dim)\r\n  // // console.log(rlt)\r\n  let rlt: any[][] = []\r\n  for (let i = 0; i < dim; i++) {\r\n    rlt[i] = []\r\n    for (let j = 0; j < dim; j++) {\r\n      rlt[i][j] = ''\r\n    }\r\n  }\r\n  return rlt\r\n}\r\n","import BackNavigator from 'components/backNavigator'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\nimport { IGame } from 'store/reducers/Game'\r\nimport { fetchGame } from 'store/action/GameAction'\r\nimport { changeGameState } from 'store/action/GameStateAction'\r\nimport { fetchGameRecord } from 'store/action/GaneRecordAction'\r\nimport './styles.scss'\r\nimport dateformat from 'dateformat'\r\nimport { useEffect, useState } from 'react'\r\nimport { EGameState } from 'store/reducers/GameState'\r\nimport Loading from 'components/Loading'\r\nimport { setGame } from 'store/action/GameManagerAction'\r\nimport { genBoard } from 'lib/createBoard'\r\n\r\n\r\ninterface IProps {\r\n  games: IGame[]\r\n  total: number\r\n  loading: boolean\r\n  error: Error | null\r\n  fetchGame: (page: number) => Promise<void>\r\n  changeGameState: (state: EGameState) => any\r\n  fetchGameRecord: (id: string) => Promise<void>\r\n  setGame: (data: any) => any\r\n}\r\n\r\nfunction GameRecord(props: IProps) {\r\n  const {\r\n    games,\r\n    total,\r\n    loading,\r\n    fetchGame,\r\n    changeGameState,\r\n    fetchGameRecord,\r\n    setGame,\r\n  } = props\r\n\r\n  const [page, setPage] = useState<number>(1)\r\n\r\n  \r\n  const handleOnNext = () => {\r\n    if (page < Math.ceil(total / 4)) {\r\n      // console.log(Math.ceil(total / 4))\r\n      setPage((prev) => prev + 1)\r\n    }\r\n  }\r\n\r\n  const handleOnBack = () => {\r\n    if (page !== 1) {\r\n      setPage((prev) => prev - 1)\r\n    }\r\n  }\r\n\r\n  const handleOnWatch = (gameID: string, dim: number) => {\r\n    // console.log('on watch')\r\n    fetchGameRecord(gameID)\r\n    setGame({ board: genBoard(dim) })\r\n    changeGameState(EGameState.replay)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchGame(page)\r\n  }, [page, fetchGame])\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <div className=\"game-record\">\r\n      <BackNavigator />\r\n      <h3>Game Record</h3>\r\n      {/* <button style={{ position: 'absolute', left: 0 }}>back</button> */}\r\n      <div className=\"record-list\">\r\n        {total <= 0 && <span>No Game Record</span>}\r\n        {games.map((game) => (\r\n          <div key={game.id} className=\"record-item\">\r\n            <div className=\"record-id\">id:{game.id}</div>\r\n            <div className=\"record-detail\">\r\n              <div className=\"record-player\">{`${game.player_o} vs ${game.player_x}`}</div>\r\n              <div className=\"record-result\">=={game.result}==</div>\r\n              <div>\r\n                {dateformat(new Date(game.createAt), 'dd/mm/yyyy HH:MM')}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"record-watch-btn\"\r\n              onClick={() => handleOnWatch(game.id, game.dimension)}\r\n            >\r\n              ⌛ watch\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"action\">\r\n        <div className=\"action-btn\" onClick={handleOnBack}>\r\n          Back\r\n        </div>\r\n        <div className=\"action-page\">{page}</div>\r\n        <div className=\"action-btn\" onClick={handleOnNext}>\r\n          Next\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  games: rootState.GameReducer.games,\r\n  total: rootState.GameReducer.total,\r\n  loading: rootState.GameReducer.loading,\r\n  error: rootState.GameReducer.error,\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchGame,\r\n  changeGameState,\r\n  fetchGameRecord,\r\n  setGame,\r\n})(GameRecord)\r\n","export default __webpack_public_path__ + \"static/media/facebook-512.f548a299.png\";","import './styles.scss'\r\nimport BackNavigator from 'components/backNavigator'\r\nimport githubLogo from './github-logo/GitHub-Mark-Light-120px-plus.png'\r\nimport facebookLogo from './facebook-logo/facebook-512.png'\r\nfunction About() {\r\n  return (\r\n    <div className=\"about\">\r\n      <BackNavigator />\r\n      <h3>About me</h3>\r\n      <img alt=\"gh-logo\" style={{ width: 120, margin: '0 auto' }} src={githubLogo} />\r\n      <a href=\"https://github.com/onewkub\">github.com/onewkub</a>\r\n      <div style={{ height: 36 }}></div>\r\n      <img alt=\"fb-log\" style={{ width: 120, margin: '0 auto' }} src={facebookLogo} />\r\n      <a href=\"https://facebook.com/onewkub\">facebook.com/onewkub</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2Q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\"","import { SET_GAME, SET_GAME_ID } from 'store/action/GameManagerAction'\r\n\r\ninterface IState {\r\n  id: string\r\n  board: string[][]\r\n  whoTurn: string\r\n  turn: number\r\n  whatYouAre: string\r\n  yourName: string\r\n  // gameStatus: string\r\n  notice: string\r\n}\r\n\r\ninterface IAction {\r\n  type: string\r\n  payload: any\r\n}\r\n\r\nexport const initialState = {\r\n  id: '',\r\n  board: [\r\n    ['', '', ''],\r\n    ['', '', ''],\r\n    ['', '', ''],\r\n  ],\r\n  whoTurn: '',\r\n  whatYouAre: '',\r\n  turn: 0,\r\n  yourName: '',\r\n  // gameStatus: '',\r\n  notice: '',\r\n}\r\n\r\nfunction GameManagerReducer(state: IState = initialState, action: IAction) {\r\n  switch (action.type) {\r\n    case SET_GAME:\r\n      return { ...state, ...action.payload }\r\n    case SET_GAME_ID:\r\n      return {\r\n        ...state,\r\n        id: action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default GameManagerReducer\r\n","import {\r\n  FETCH_GAME_BEGIN,\r\n  FETCH_GAME_FAILURE,\r\n  FETCH_GAME_SUCCESS,\r\n} from 'store/action/GameAction'\r\nimport {} from 'store/action/GaneRecordAction'\r\n\r\nexport interface IGame {\r\n  id: string\r\n  player_x: string\r\n  player_o: string\r\n  isDone: boolean\r\n  dimension: number\r\n  result: string\r\n  createAt: Date\r\n}\r\n\r\ninterface IState {\r\n  games: IGame[]\r\n  total: number\r\n  loading: boolean\r\n  error: Error | null\r\n}\r\n\r\ninterface IAction {\r\n  type: string\r\n  payload: any\r\n}\r\n\r\nconst initialState = {\r\n  games: [],\r\n  total: 0,\r\n  loading: false,\r\n  error: null,\r\n}\r\n\r\nfunction GameRecordReducer(state: IState = initialState, action: IAction) {\r\n  const { type, payload } = action\r\n  switch (type) {\r\n    case FETCH_GAME_BEGIN:\r\n      return { ...state, loading: true, error: null }\r\n    case FETCH_GAME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        games: payload.data,\r\n        total: payload.count,\r\n        error: null,\r\n      }\r\n    case FETCH_GAME_FAILURE:\r\n      return { ...state, loading: false, error: payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default GameRecordReducer\r\n","import {\r\n  FETCH_GAME_RECORD_BEGIN,\r\n  FETCH_GAME_RECORD_FAILURE,\r\n  FETCH_GAME_RECORD_SUCESS,\r\n} from 'store/action/GaneRecordAction'\r\n\r\nexport interface IGameRecord {\r\n  id: number\r\n  turn: number\r\n  position_x: number\r\n  position_y: number\r\n  player: string\r\n  createAt: Date\r\n}\r\n\r\ninterface IState {\r\n  gameRecords: IGameRecord[]\r\n  loading: boolean\r\n  error: Error | null\r\n}\r\n\r\ninterface IAction {\r\n  type: string\r\n  payload: any\r\n}\r\n\r\nconst initialState = {\r\n  gameRecords: [],\r\n  loading: false,\r\n  error: null,\r\n}\r\n\r\nfunction GameRecordReducer(state: IState = initialState, action: IAction) {\r\n  const { type, payload } = action\r\n  switch (type) {\r\n    case FETCH_GAME_RECORD_BEGIN:\r\n      return { ...state, loading: true, error: null }\r\n    case FETCH_GAME_RECORD_SUCESS:\r\n      return { ...state, loading: false, gameRecords: payload, error: null }\r\n    case FETCH_GAME_RECORD_FAILURE:\r\n      return { ...state, loading: false, error: payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default GameRecordReducer\r\n","import { combineReducers } from 'redux'\r\nimport GameStateReducer from './GameState'\r\nimport GameManagerReducer from './GameManager'\r\nimport GameReducer from './Game'\r\nimport GameRecordReducer from './GameRecordList'\r\nconst reducers = combineReducers({\r\n  GameStateReducer,\r\n  GameManagerReducer,\r\n  GameReducer,\r\n  GameRecordReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof reducers>\r\n\r\nexport default reducers\r\n","import { applyMiddleware, createStore } from 'redux'\r\nimport rootReducer from './reducers'\r\nimport thunk from 'redux-thunk'\r\n// import logger from 'redux-logger'\r\n\r\nexport default createStore(rootReducer, applyMiddleware(thunk))\r\n","// import { observer } from \"mobx-react-lite\";\r\n// import GameManager from \"observer/GameManager\";\r\nimport io from 'socket.io-client'\r\nimport store from 'store'\r\nimport { setGame } from 'store/action/GameManagerAction'\r\nimport { changeGameState } from 'store/action/GameStateAction'\r\nimport { EGameState } from 'store/reducers/GameState'\r\n\r\n// const PORT = process.env.PORT || 3001\r\nexport const socket = io.connect(process.env.REACT_APP_SERVER_URL || 'http://localhost:3001')\r\n\r\nexport function createGame(player_name: string, dim: number, online: boolean) {\r\n  socket.emit('create-game', { player_name, dim, online })\r\n  store.dispatch(setGame({ yourName: player_name }))\r\n}\r\n\r\nexport function joinGame(player_name: string, inviteCode: string) {\r\n  socket.emit('join-room', { player_name, inviteCode })\r\n  store.dispatch(setGame({ yourName: player_name }))\r\n}\r\n\r\nexport function makeMove(room_id: string, pos_x: number, pos_y: number) {\r\n  socket.emit('make-move', { room_id, pos_x, pos_y })\r\n}\r\n\r\nsocket.on('board-update', () => {\r\n  // console.log('board-update')\r\n})\r\n\r\nsocket.on('game-id', (data: any) => {\r\n  // console.log(data)\r\n  store.dispatch(setGame(data))\r\n})\r\n\r\nsocket.on('notice', (notice: string) => {\r\n  // console.log(notice)\r\n  store.dispatch(setGame({ notice }))\r\n})\r\nsocket.on('you-are', (data: string) => {\r\n  store.dispatch(setGame({ whatYouAre: data }))\r\n})\r\n\r\nsocket.on('game-start', (data: any) => {\r\n  store.dispatch(changeGameState(EGameState.game))\r\n  // console.log(data)\r\n  store.dispatch(setGame(data))\r\n})\r\n\r\nsocket.on('game-update', (data: any) => {\r\n  // console.log(data)\r\n  store.dispatch(setGame(data))\r\n})\r\n\r\nsocket.on('game-end', (data: any) => {\r\n  store.dispatch(changeGameState(EGameState.result))\r\n  socket.emit('leave-room', store.getState().GameManagerReducer.id)\r\n})\r\n","import { makeMove } from 'lib/gameManager'\r\nimport { useEffect } from 'react'\r\nimport { connect, useSelector } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\nimport './styles.scss'\r\n\r\ninterface IPropsSquare {\r\n  size: number\r\n  value: string\r\n  pos_x: number\r\n  pos_y: number\r\n  readOnly?: boolean\r\n}\r\n\r\nfunction Square(props: IPropsSquare) {\r\n  const { size, value, pos_x, pos_y, readOnly = false } = props\r\n\r\n  const room_id = useSelector((state: RootState) => state.GameManagerReducer.id)\r\n  const handleOnClick = () => {\r\n    // console.log(room_id, pos_x, pos_y)\r\n    if (!readOnly) makeMove(room_id, pos_x, pos_y)\r\n  }\r\n  return (\r\n    <div\r\n      onClick={handleOnClick}\r\n      className={readOnly ? 'square-display' : 'square'}\r\n      style={{ height: size, width: size }}\r\n    >\r\n      <span style={{ fontSize: size * 0.8 }}>{value}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Table(props: {\r\n  board: string[][]\r\n  width?: number\r\n  readOnly?: boolean\r\n}) {\r\n  // const table = []\r\n  const { board, width = 450, readOnly = false } = props\r\n  const dim = board.length\r\n  const size: number = Math.floor((width - dim) / dim)\r\n  // for (let i = 0; i < dim; i++) {\r\n  //   for (let j = 0; j < dim; j++) {\r\n  //     table.push(<Square key={`${i}${j}`} size={size} value={board[i][j]} />)\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      {board.map((row, i) =>\r\n        row.map((col, j) => (\r\n          <Square\r\n            key={`${i}${j}`}\r\n            size={size}\r\n            value={board[i][j]}\r\n            pos_x={i}\r\n            pos_y={j}\r\n            readOnly={readOnly}\r\n          />\r\n        )),\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\ninterface IPropsBoard {\r\n  board: string[][]\r\n  readOnly?: boolean\r\n  turn: number\r\n}\r\n\r\nfunction Board(props: IPropsBoard) {\r\n  const { board, readOnly = false, turn } = props\r\n  useEffect(() => {\r\n    // console.log('update Board')\r\n  }, [board, turn])\r\n  return (\r\n    <div className=\"board\">\r\n      <Table readOnly={readOnly} board={board} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  id: rootState.GameManagerReducer.id,\r\n  board: rootState.GameManagerReducer.board,\r\n  turn: rootState.GameManagerReducer.turn,\r\n})\r\nexport default connect(mapStateToProps)(Board)\r\n","// import { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\nimport Board from './board'\r\nimport './styles.scss'\r\ninterface IProps {\r\n  whoTurn: string\r\n  turn: number\r\n  notice: string\r\n  whatYouAre: string\r\n  yourName: string\r\n}\r\n\r\nfunction Game(props: IProps) {\r\n  const { whoTurn, turn, notice, whatYouAre, yourName } = props\r\n  // const [table, setTable] = useState<string[][]>()\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <h1>\r\n        Current Player:\r\n        {whoTurn === yourName ? 'YOU' : whoTurn}\r\n      </h1>\r\n      <h4>Turn: {turn}</h4>\r\n      <Board />\r\n      <h3>{`You are play as ${whatYouAre}`}</h3>\r\n      <span>{notice}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  yourName: rootState.GameManagerReducer.yourName,\r\n  whoTurn: rootState.GameManagerReducer.whoTurn,\r\n  turn: rootState.GameManagerReducer.turn,\r\n  notice: rootState.GameManagerReducer.notice,\r\n  whatYouAre: rootState.GameManagerReducer.whatYouAre,\r\n})\r\n\r\nexport default connect(mapStateToProps)(Game)\r\n","import SimpleReactValidator from 'simple-react-validator'\r\n\r\nexport const validator = new SimpleReactValidator()\r\n","import { useState } from 'react'\r\n\r\nexport function useForceUpdate() {\r\n  const [, setValue] = useState(0) // integer state\r\n  return () => setValue((value) => value + 1) // update the state to force render\r\n}\r\n","import { connect } from 'react-redux'\r\nimport { ClimbingBoxLoader } from 'react-spinners'\r\nimport { RootState } from 'store/reducers'\r\n\r\ninterface IProps {\r\n  notice: string\r\n}\r\n\r\nfunction WattingPanel(props: IProps) {\r\n  const { notice } = props\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          height: 300,\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <ClimbingBoxLoader color=\"white\" size={30} />\r\n      </div>\r\n      <h3>{notice}</h3>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  notice: rootState.GameManagerReducer.notice,\r\n})\r\n\r\nexport default connect(mapStateToProps)(WattingPanel)\r\n","import { useState } from 'react'\r\nimport Clipboard from 'clipboard'\r\nimport './styles.scss'\r\nimport BackNavigator from 'components/backNavigator'\r\nimport { createGame } from 'lib/gameManager'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\nimport { validator } from 'lib/validator'\r\nimport { useForceUpdate } from 'lib/foreUpdate'\r\nimport WatingPanel from 'components/watingPanel'\r\n\r\ninterface IForm {\r\n  name: string\r\n  dim: number\r\n  online: boolean\r\n}\r\nnew Clipboard('.copy-clipboard-btn')\r\ninterface IProps {\r\n  inviteCode: string\r\n}\r\n\r\nfunction CreateGame(props: IProps) {\r\n  const [form, setForm] = useState<IForm>({\r\n    name: 'player_1',\r\n    dim: 3,\r\n    online: true,\r\n  })\r\n\r\n  const [hasCreate, setHasCreate] = useState<boolean>(false)\r\n  const { inviteCode } = props\r\n\r\n  const handleOnChange = (value: any, type: string) => {\r\n    // console.log(value)\r\n    switch (type) {\r\n      case 'name':\r\n        return setForm((prev) => ({ ...prev, name: value }))\r\n      case 'dim':\r\n        return setForm((prev) => ({ ...prev, dim: Number(value) }))\r\n      case 'online':\r\n        // console.log(value, type)\r\n        return setForm((prev) => ({\r\n          ...prev,\r\n          online: value === 'true' ? true : false,\r\n        }))\r\n      default:\r\n        return\r\n    }\r\n  }\r\n  const forceUpdate = useForceUpdate()\r\n\r\n  const handleOnSumbit = async () => {\r\n    if (validator.allValid()) {\r\n      // console.log(form)\r\n      createGame(form.name, form.dim, form.online)\r\n      setHasCreate(true)\r\n    } else {\r\n      validator.showMessages()\r\n      forceUpdate()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackNavigator />\r\n      {!hasCreate && (\r\n        <div className=\"create-game-panel\">\r\n          <h3>Create Game</h3>\r\n          <div>\r\n            <label> Online</label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"single\"\r\n              onChange={(e) => handleOnChange(e.target.value, 'online')}\r\n              value=\"true\"\r\n              checked={form.online}\r\n            />\r\n            <label> Single Play</label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"single\"\r\n              onChange={(e) => handleOnChange(e.target.value, 'online')}\r\n              value=\"false\"\r\n              checked={!form.online}\r\n            />\r\n          </div>\r\n          <div className=\"txt-input\">\r\n            <label>Player Name</label>\r\n            <input\r\n              value={form.name}\r\n              onChange={(e) => handleOnChange(e.target.value, 'name')}\r\n              placeholder=\"please insert your name\"\r\n            />\r\n            {validator.message('name', form.name, 'required')}\r\n          </div>\r\n          <div className=\"txt-input\">\r\n            <label>Table Dimension</label>\r\n            <input\r\n              value={form.dim}\r\n              onChange={(e) => handleOnChange(e.target.value, 'dim')}\r\n              placeholder=\"Please insert table dimension\"\r\n            />\r\n            {validator.message('dimension', form.dim, 'required|integer|min:3,num')}\r\n          </div>\r\n          <button onClick={handleOnSumbit} className=\"create-btn\">\r\n            Create ROOM\r\n          </button>\r\n        </div>\r\n      )}\r\n      {hasCreate && (\r\n        <div className=\"create-game-panel-invite-code\">\r\n          <WatingPanel />\r\n          {form.online && (\r\n            <>\r\n              <h4>Send code below to your friend</h4>\r\n              <div className=\"invite-code-field\">\r\n                <input id=\"invite-code\" readOnly value={inviteCode} />\r\n                <div\r\n                  className=\"copy-clipboard-btn\"\r\n                  data-clipboard-text={inviteCode}\r\n                >\r\n                  Copy\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  inviteCode: rootState.GameManagerReducer.id,\r\n})\r\n\r\nexport default connect(mapStateToProps)(CreateGame)\r\n","import BackNavigator from 'components/backNavigator'\r\nimport WaitingPanel from 'components/watingPanel'\r\nimport { joinGame } from 'lib/gameManager'\r\nimport { useState } from 'react'\r\nimport { validator } from 'lib/validator'\r\nimport './styles.scss'\r\nimport { useForceUpdate } from 'lib/foreUpdate'\r\ninterface IForm {\r\n  name: string\r\n  inviteCode: string\r\n}\r\n\r\nfunction JoinGame() {\r\n  const [form, setForm] = useState<IForm>({ name: 'player_2', inviteCode: '' })\r\n\r\n  const [hasJoin, setHasJoin] = useState<boolean>(false)\r\n\r\n  const handleOnChange = (value: any, type: string) => {\r\n    switch (type) {\r\n      case 'name':\r\n        return setForm((prev) => ({ ...prev, name: value }))\r\n      case 'inviteCode':\r\n        return setForm((prev) => ({ ...prev, inviteCode: value }))\r\n      default:\r\n        return\r\n    }\r\n  }\r\n  const forceUpdate = useForceUpdate()\r\n  const handleOnSumbit = () => {\r\n    if (validator.allValid()) {\r\n      joinGame(form.name, form.inviteCode)\r\n      setHasJoin(true)\r\n    } else {\r\n      validator.showMessages()\r\n      forceUpdate()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackNavigator />\r\n      {!hasJoin && (\r\n        <div className=\"join-game-panel\">\r\n          <h3>Join Game</h3>\r\n          <div className=\"txt-input\">\r\n            <label>Player Name</label>\r\n            <input\r\n              value={form.name}\r\n              onChange={(e) => handleOnChange(e.target.value, 'name')}\r\n              placeholder=\"please insert your name\"\r\n              required\r\n            />\r\n            {validator.message('name', form.name, 'required')}\r\n          </div>\r\n          <div className=\"txt-input\">\r\n            <label>Invite Code</label>\r\n            <input\r\n              value={form.inviteCode}\r\n              onChange={(e) => handleOnChange(e.target.value, 'inviteCode')}\r\n              placeholder=\"Please insert your invite code\"\r\n            />\r\n            {validator.message('invite code', form.inviteCode, 'required')}\r\n          </div>\r\n          <button onClick={handleOnSumbit} className=\"join-btn\">\r\n            JOIN ROOM\r\n          </button>\r\n        </div>\r\n      )}\r\n      {hasJoin && (\r\n        <div className=\"waiting-room\">\r\n          <WaitingPanel />\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default JoinGame\r\n","import { connect } from 'react-redux'\r\nimport { changeGameState } from 'store/action/GameStateAction'\r\nimport { RootState } from 'store/reducers'\r\nimport { EGameState } from 'store/reducers/GameState'\r\nimport Board from 'components/game/board'\r\nimport { setGame } from 'store/action/GameManagerAction'\r\nimport { initialState } from 'store/reducers/GameManager'\r\nimport './styles.scss'\r\n\r\ninterface IProps {\r\n  notice: string\r\n  whatYouAre: string\r\n  changeGameState: any\r\n  setGame: (data: any) => any\r\n}\r\n\r\nfunction Result(props: IProps) {\r\n  const { notice, changeGameState, whatYouAre, setGame } = props\r\n  const handleOnClick = () => {\r\n    setGame(initialState)\r\n    changeGameState(EGameState.main_menu)\r\n  }\r\n  const handleOnClickToRecord = () => {\r\n    changeGameState(EGameState.record)\r\n    setGame(initialState)\r\n  }\r\n\r\n  return (\r\n    <div className=\"result\">\r\n      <Board readOnly={true} />\r\n      <h1 className=\"result-title\">\r\n        {notice}\r\n        {whatYouAre ? `(${whatYouAre})` : ''}\r\n      </h1>\r\n      <label>Your game play will be record to database.</label>\r\n      <label>\r\n        You can see your replay{` `}\r\n        <span\r\n          className=\"link\"\r\n          style={{ cursor: 'pointer' }}\r\n          onClick={handleOnClickToRecord}\r\n        >\r\n          here\r\n        </span>\r\n      </label>\r\n      <div className=\"main-menu-btn\" onClick={handleOnClick}>\r\n        Back to Main Menu\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  notice: rootState.GameManagerReducer.notice,\r\n  whatYouAre: rootState.GameManagerReducer.whatYouAre,\r\n})\r\n\r\nexport default connect(mapStateToProps, { changeGameState, setGame })(Result)\r\n","import { useEffect, useState } from 'react'\r\nimport { IGameRecord } from 'store/reducers/GameRecordList'\r\n// import store from 'store'\r\nimport './styles.scss'\r\nimport { setGame } from 'store/action/GameManagerAction'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\n// import { useForceUpdate } from 'lib/foreUpdate'\r\n\r\ninterface IProps {\r\n  gameRecords: IGameRecord[]\r\n  board: string[][]\r\n  setGame: (data: any) => any\r\n}\r\n\r\nlet index = 0\r\nlet timmerID: any\r\n\r\nfunction ControlPanel(props: IProps) {\r\n  const { board, gameRecords, setGame } = props\r\n  const [speed, setSpeed] = useState<number>(0.5)\r\n  const [play, setPlay] = useState<boolean>(false)\r\n  // const [index, setIndex] = useState<number>(0)\r\n  // const forceUpdate = useForceUpdate()\r\n\r\n  const setBoard = (step: IGameRecord) => {\r\n    // console.log(step)\r\n    // const board = store.getState().GameManagerReducer.board\r\n    const copy_board: string[][] = board\r\n    copy_board[step.position_x][step.position_y] =\r\n      step.turn % 2 === 0 ? 'O' : 'X'\r\n    // console.log(board)\r\n    // setIndex((prev) => 2)\r\n    // store.dispatch(setGame({ board }))\r\n    setGame({ board: copy_board, turn: step.turn })\r\n    index++\r\n  }\r\n\r\n  const popStep = () => {\r\n    index--\r\n    const previos_step = gameRecords[index]\r\n    const copy_board: string[][] = board\r\n    copy_board[previos_step.position_x][previos_step.position_y] = ''\r\n    setGame({ board: copy_board, turn: previos_step.turn - 1 })\r\n  }\r\n  useEffect(() => {\r\n    // console.log('first init')\r\n    // index = 0\r\n    return () => {\r\n      index = 0\r\n\r\n      // console.log('unMount')\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    // console.log(gameRecords)\r\n    // console.log('set up')\r\n    // console.log(play)\r\n    if (play) {\r\n      timmerID = setInterval(() => {\r\n        // console.log(`yeah ${Math.random()}`)\r\n        // console.log(index)\r\n        if (index >= gameRecords.length) {\r\n          console.log('replay is end')\r\n          setPlay(false)\r\n          return clearInterval(timmerID)\r\n        }\r\n        setBoard(gameRecords[index])\r\n        // setIndex(index + 1)\r\n\r\n        // forceUpdate()\r\n        // console.log(speed * 1000)\r\n      }, 3000 * speed)\r\n    } else {\r\n      clearInterval(timmerID)\r\n    }\r\n    return () => {\r\n      // console.log('dismouth component')\r\n      clearInterval(timmerID)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [speed, play])\r\n\r\n  const handleOnChangeSpeed = (event: any) => {\r\n    // console.log(event.target.value)\r\n    const value = event.target.value\r\n    // setPlay(false)\r\n    setSpeed(value)\r\n  }\r\n  const handleOnClickPlay = () => {\r\n    setPlay((prev) => !prev)\r\n  }\r\n\r\n  const handleOnClickNext = () => {\r\n    setPlay(false)\r\n    if (index < gameRecords.length) {\r\n      setBoard(gameRecords[index])\r\n    }\r\n  }\r\n  const handleOnClickBack = () => {\r\n    if (index > 0) {\r\n      setPlay(false)\r\n      popStep()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"control-panel\">\r\n      <span>Status: {play ? 'Playing' : 'Stop'}</span>\r\n      <div className=\"control-slider\">\r\n        <span>Speed: </span>\r\n        <input\r\n          onChange={handleOnChangeSpeed}\r\n          step={0.05}\r\n          type=\"range\"\r\n          min={0.1}\r\n          value={speed}\r\n          max={1}\r\n        />\r\n      </div>\r\n      <div className=\"control-btn-group\">\r\n        <div className=\"control-btn\" onClick={handleOnClickBack}>\r\n          Back\r\n        </div>\r\n        <div className=\"control-btn\" onClick={handleOnClickPlay}>\r\n          {play ? 'Pause' : 'Play'}\r\n        </div>\r\n        <div className=\"control-btn\" onClick={handleOnClickNext}>\r\n          Next\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  board: rootState.GameManagerReducer.board,\r\n})\r\n\r\nexport default connect(mapStateToProps, { setGame })(ControlPanel)\r\n","import Board from 'components/game/board'\r\nimport Loading from 'components/Loading'\r\nimport { connect } from 'react-redux'\r\nimport { RootState } from 'store/reducers'\r\nimport { IGameRecord } from 'store/reducers/GameRecordList'\r\nimport ControlPanel from './controlPanel'\r\nimport BackNavigator from 'components/backNavigator'\r\nimport { EGameState } from 'store/reducers/GameState'\r\nimport { setGame } from 'store/action/GameManagerAction'\r\n\r\ninterface IProps {\r\n  gameRecords: IGameRecord[]\r\n  loading: boolean\r\n  error: Error | null\r\n}\r\n\r\nfunction Replay(props: IProps) {\r\n  const { loading, gameRecords } = props\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <div className=\"replay-panel\">\r\n      <BackNavigator backTo={EGameState.record} />\r\n      <div style={{ height: 10 }} />\r\n      <Board readOnly />\r\n      <ControlPanel gameRecords={gameRecords} />\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = (rootState: RootState) => ({\r\n  gameRecords: rootState.GameRecordReducer.gameRecords,\r\n  loading: rootState.GameRecordReducer.loading,\r\n  error: rootState.GameRecordReducer.error,\r\n})\r\nexport default connect(mapStateToProps, { setGame })(Replay)\r\n","import 'App.scss'\nimport MainMenu from 'components/mainMenu'\nimport { connect } from 'react-redux'\nimport { RootState } from 'store/reducers'\nimport { changeGameState } from 'store/action/GameStateAction'\nimport { EGameState } from 'store/reducers/GameState'\nimport GameRecord from 'components/gameRecord'\nimport About from 'components/about'\nimport Game from 'components/game'\nimport CreateGame from 'components/createGame'\nimport JoinGame from 'components/joinGame'\nimport Result from 'components/result'\nimport Replay from 'components/replay'\n\ninterface IProps {\n  state: EGameState\n  loading: boolean\n  error: Error | null\n}\n\nfunction App(props: IProps) {\n  // const App = observer((props: IProps) => {\n  const { state } = props\n\n  return (\n    <div className=\"App\">\n      <div className=\"game-panel\">\n        {state === EGameState.main_menu && <MainMenu />}\n        {state === EGameState.game && <Game />}\n        {state === EGameState.result && <Result />}\n        {state === EGameState.replay && <Replay />}\n        {state === EGameState.create && <CreateGame />}\n        {state === EGameState.join && <JoinGame />}\n        {state === EGameState.record && <GameRecord />}\n        {state === EGameState.about && <About />}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (rootState: RootState) => ({\n  state: rootState.GameStateReducer.game_state,\n  loading: rootState.GameStateReducer.loading,\n  error: rootState.GameStateReducer.error,\n})\n\nexport default connect(mapStateToProps, { changeGameState })(App)\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux'\nimport store from 'store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}